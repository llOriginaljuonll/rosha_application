{% extends "base.html" %}
{% load static %}
{% load static embed_video_tags %}
{% load crispy_forms_tags %}
{% load tailwind_filters %}

{% block style %}
    <link rel="stylesheet" href="{% static 'style.css' %}">
{% endblock style %}

{% block content %}
    <div class="mt-5 w-1/2 mx-auto">
        <div>
            <h1 class="text-2xl font-semibold border-b border-gray-800 py-2">
                {{ competition.name }}
            </h1>
            <div class="flex flex-col gap-2.5 text-lg font-semibold mt-3">
                <div class="flex">
                    <h2 class="me-3 px-1.5 bg-yellow-400 text-white rounded-xl">Participant name<h2>{{ participant.name }}</h2>
                </div>
                <div class="flex">
                    {% if participant.shorts_url %}
                        <div class="hidden xl:block">{% video participant.shorts_url "324x576" %}</div>
                    {% endif %}
                </div>
            </div>
        </div>
        {% if competition.image %}
            <img src="{{ competition.image.url }}" class="mt-5 mx-auto">
        {% endif %}
        <form class="mt-5" method="post" enctype="multipart/form-data">
            {% csrf_token %}
            {{ form|crispy }}
            <button 
                    type="submit" 
                    class="my-5 mx-auto text-white bg-blue-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-blue-300 dark:focus:ring-blue-800 font-bold rounded-lg text-md px-5 py-2.5">
                    Submit
            </button>
        </form>
    </div>
{% endblock content %}
{% block script %}
    <script>
        var name = "{{ participant.id }}";
        document.getElementById('participant_id').value = name;
    </script>
{% endblock script %}